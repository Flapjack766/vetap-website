# ğŸ”§ VETAP Event - Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø¹Ø¯Ù… ÙˆØµÙˆÙ„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚

## âš ï¸ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©

Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ (Email Verification) Ù„Ø§ ØªØµÙ„ Ø¨Ø¹Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ ÙÙŠ VETAP Event.

---

## âœ… Ø§Ù„Ø­Ù„ÙˆÙ„ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©

### 1ï¸âƒ£ ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Email Auth ÙÙŠ Supabase

#### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Supabase Dashboard

1. **Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰:** https://supabase.com/dashboard/project/mdqjgliaidrzkfxlnwtv
2. **Authentication â†’ Settings â†’ Email Auth**

#### Ø§Ù„Ø®Ø·ÙˆØ© 2: ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª

**ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ†:**

- âœ… **Enable Email Signup:** `ON` (Ù…ÙØ¹Ù„)
- âœ… **Enable Email Confirmations:** `ON` (Ù…ÙØ¹Ù„) â­ **Ù‡Ø°Ø§ Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹!**
- âœ… **Secure Email Change:** `ON` (Ù…ÙØ¹Ù„)
- âœ… **Double Confirm Email Changes:** `ON` (Ù…ÙØ¹Ù„)

**Ø¥Ø°Ø§ ÙƒØ§Ù†Øª `Enable Email Confirmations` = `OFF`:**
1. **Ø´ØºÙ‘Ù„Ù‡Ø§:** Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Toggle Ù„ØªÙØ¹ÙŠÙ„Ù‡Ø§
2. **Ø§Ø­ÙØ¸:** Ø§Ø¶ØºØ· "Save"
3. **Ø¬Ø±Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰:** Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯

---

### 2ï¸âƒ£ ØªØ­Ù‚Ù‚ Ù…Ù† Email Provider

#### Ø§Ù„Ø®Ø·ÙˆØ© 1: Authentication â†’ Settings â†’ SMTP Settings

**ØªØ­Ù‚Ù‚ Ù…Ù†:**

- âœ… **SMTP Host:** ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙØ¹Ø¯ (Ù…Ø«Ù„ `smtp.gmail.com` Ø£Ùˆ `smtp.sendgrid.net`)
- âœ… **SMTP Port:** ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙØ¹Ø¯ (Ù…Ø«Ù„ `587` Ø£Ùˆ `465`)
- âœ… **SMTP User:** ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙØ¹Ø¯
- âœ… **SMTP Password:** ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙØ¹Ø¯
- âœ… **Sender Email:** ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙØ¹Ø¯

**Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙØ¹Ø¯:**

#### Ø§Ù„Ø®ÙŠØ§Ø± 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Supabase Default (Ù„Ù„ØªØ·ÙˆÙŠØ±)

1. **Authentication â†’ Settings â†’ Email Auth**
2. **Enable Email Confirmations:** `ON`
3. **Use Supabase Default SMTP:** `ON`
4. **Ø§Ø­ÙØ¸**

**Ù…Ù„Ø§Ø­Ø¸Ø©:** Supabase Default SMTP Ù„Ù‡ Ø­Ø¯ÙˆØ¯ (3 emails/hour Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©)

#### Ø§Ù„Ø®ÙŠØ§Ø± 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… SMTP Ù…Ø®ØµØµ (Ù„Ù„Ø¥Ù†ØªØ§Ø¬)

1. **Authentication â†’ Settings â†’ SMTP Settings**
2. **Ø£Ø¶Ù SMTP Provider:**
   - **Gmail:** `smtp.gmail.com:587`
   - **SendGrid:** `smtp.sendgrid.net:587`
   - **Mailgun:** `smtp.mailgun.org:587`
   - **Ø£Ùˆ Ø£ÙŠ SMTP provider Ø¢Ø®Ø±**
3. **Ø£Ø¯Ø®Ù„ Credentials:**
   - SMTP Host
   - SMTP Port
   - SMTP User
   - SMTP Password
   - Sender Email
4. **Ø§Ø­ÙØ¸**

---

### 3ï¸âƒ£ ØªØ­Ù‚Ù‚ Ù…Ù† Email Templates

#### Ø§Ù„Ø®Ø·ÙˆØ© 1: Authentication â†’ Email Templates

**ØªØ­Ù‚Ù‚ Ù…Ù†:**

- âœ… **Confirm signup:** Template Ù…ÙˆØ¬ÙˆØ¯ ÙˆÙ…ÙØ¹Ø¯
- âœ… **Magic Link:** Template Ù…ÙˆØ¬ÙˆØ¯ ÙˆÙ…ÙØ¹Ø¯
- âœ… **Change Email Address:** Template Ù…ÙˆØ¬ÙˆØ¯ ÙˆÙ…ÙØ¹Ø¯
- âœ… **Reset Password:** Template Ù…ÙˆØ¬ÙˆØ¯ ÙˆÙ…ÙØ¹Ø¯

**Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©:**

1. **Authentication â†’ Email Templates**
2. **Confirm signup:** Ø§Ø¶ØºØ· "Edit"
3. **ØªØ­Ù‚Ù‚ Ù…Ù†:**
   - Subject: ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ `{{ .ConfirmationURL }}`
   - Body: ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù‚Ù‚
4. **Ø§Ø­ÙØ¸**

---

### 4ï¸âƒ£ ØªØ­Ù‚Ù‚ Ù…Ù† Email Rate Limiting

#### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:

Supabase Default SMTP Ù„Ù‡ Ø­Ø¯ÙˆØ¯:
- **Free Plan:** 3 emails/hour
- **Pro Plan:** Ø£ÙƒØ«Ø±

**Ø¥Ø°Ø§ ØªØ¬Ø§ÙˆØ²Øª Ø§Ù„Ø­Ø¯:**

1. **Ø§Ù†ØªØ¸Ø±:** Ø§Ù†ØªØ¸Ø± Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø©
2. **Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù…:** SMTP Ù…Ø®ØµØµ (Ù„Ø§ Ø­Ø¯ÙˆØ¯)

---

### 5ï¸âƒ£ ØªØ­Ù‚Ù‚ Ù…Ù† Spam Folder

**ØªØ­Ù‚Ù‚ Ù…Ù†:**

- âœ… **Inbox:** Ø§Ø¨Ø­Ø« Ø¹Ù† email Ù…Ù† Supabase
- âœ… **Spam/Junk:** Ø§Ø¨Ø­Ø« Ø¹Ù† email Ù…Ù† Supabase
- âœ… **Promotions:** (Ø¥Ø°Ø§ ÙƒØ§Ù† Gmail) Ø§Ø¨Ø­Ø« ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Promotions

**Email Ù…Ù† Supabase Ø¹Ø§Ø¯Ø© ÙŠÙƒÙˆÙ† Ù…Ù†:**
- `noreply@mail.app.supabase.io`
- Ø£Ùˆ Ù…Ù† Sender Email Ø§Ù„Ø°ÙŠ Ø­Ø¯Ø¯ØªÙ‡ ÙÙŠ SMTP Settings

---

### 6ï¸âƒ£ ØªØ­Ù‚Ù‚ Ù…Ù† Email ÙÙŠ Supabase Dashboard

#### Ø§Ù„Ø®Ø·ÙˆØ© 1: Authentication â†’ Users

1. **Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯**
2. **Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**
3. **ØªØ­Ù‚Ù‚ Ù…Ù†:**
   - âœ… **Email Confirmed:** `false` (Ø¥Ø°Ø§ Ù„Ù… ÙŠØªØ­Ù‚Ù‚ Ø¨Ø¹Ø¯)
   - âœ… **Email:** ØµØ­ÙŠØ­
   - âœ… **Created At:** ÙˆÙ‚Øª Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡

#### Ø§Ù„Ø®Ø·ÙˆØ© 2: Authentication â†’ Logs

1. **Ø§Ø¨Ø­Ø« Ø¹Ù†:**
   - `signup` events
   - `email_confirmation_sent` events
   - Ø£ÙŠ Ø£Ø®Ø·Ø§Ø¡ Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ù€ email

**Ø¥Ø°Ø§ Ø±Ø£ÙŠØª:**
- âœ… `email_confirmation_sent` â†’ Email ØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡
- âŒ `email_send_failed` â†’ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ SMTP
- âŒ `email_rate_limit_exceeded` â†’ ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯

---

### 7ï¸âƒ£ Ø§Ø®ØªØ¨Ø§Ø± Email ÙŠØ¯ÙˆÙŠØ§Ù‹

#### ÙÙŠ Supabase Dashboard:

1. **Authentication â†’ Users**
2. **Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**
3. **Ø§Ø¶ØºØ· "Send Confirmation Email"**
4. **ØªØ­Ù‚Ù‚ Ù…Ù†:**
   - Ù‡Ù„ ÙˆØµÙ„Øª Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŸ
   - Ù‡Ù„ Ù‡Ù†Ø§Ùƒ Ø£ÙŠ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ LogsØŸ

---

## ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯

### ÙÙŠ `EventSignUpForm.tsx`:

Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙŠØ±Ø³Ù„ email confirmation ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:

```typescript
const { data: authData, error: signUpError } = await supabase.auth.signUp({
  email,
  password,
  options: {
    emailRedirectTo: `${window.location.origin}/${locale}/event/dashboard`,
    data: {
      name: name.trim(),
      phone: phone.trim(),
      phone_country_code: selectedCountry.phoneCode,
      country: selectedCountry.name,
      city: city.trim(),
    },
  },
});
```

**Ù‡Ø°Ø§ ØµØ­ÙŠØ­!** Supabase ÙŠØ±Ø³Ù„ email confirmation ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ø°Ø§ ÙƒØ§Ù† `Enable Email Confirmations` = `ON`.

---

## âœ… Checklist

- [ ] `Enable Email Confirmations` = `ON` ÙÙŠ Supabase Dashboard
- [ ] SMTP Settings Ù…ÙØ¹Ø¯ (Ø£Ùˆ Supabase Default Ù…ÙØ¹Ù„)
- [ ] Email Templates Ù…ÙˆØ¬ÙˆØ¯Ø©
- [ ] Ù„Ù… ØªØªØ¬Ø§ÙˆØ² Email Rate Limit
- [ ] ØªØ­Ù‚Ù‚Øª Ù…Ù† Spam Folder
- [ ] ØªØ­Ù‚Ù‚Øª Ù…Ù† Authentication â†’ Users â†’ Email Confirmed
- [ ] ØªØ­Ù‚Ù‚Øª Ù…Ù† Authentication â†’ Logs â†’ email_confirmation_sent
- [ ] Ø¬Ø±Ø¨Øª "Send Confirmation Email" ÙŠØ¯ÙˆÙŠØ§Ù‹

---

## ğŸ› ï¸ Ø§Ù„Ø­Ù„ Ø§Ù„Ø³Ø±ÙŠØ¹

### Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ³ØªØ®Ø¯Ù… Supabase Default SMTP:

1. **Authentication â†’ Settings â†’ Email Auth**
2. **Enable Email Confirmations:** `ON` â­
3. **Ø§Ø­ÙØ¸**
4. **Ø§Ù†ØªØ¸Ø± 5 Ø¯Ù‚Ø§Ø¦Ù‚** (Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª)
5. **Ø¬Ø±Ø¨ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯**

### Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ³ØªØ®Ø¯Ù… SMTP Ù…Ø®ØµØµ:

1. **Authentication â†’ Settings â†’ SMTP Settings**
2. **ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:**
   - SMTP Host
   - SMTP Port
   - SMTP User
   - SMTP Password
   - Sender Email
3. **Ø§Ø­ÙØ¸**
4. **Ø¬Ø±Ø¨ "Send Test Email"** (Ø¥Ø°Ø§ Ù…ØªØ§Ø­)
5. **Ø¬Ø±Ø¨ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯**

---

## ğŸ“Š Ù…Ù„Ø®Øµ

**Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ø§Ù‹:** `Enable Email Confirmations` = `OFF`

**Ø§Ù„Ø­Ù„:** Ø´ØºÙ‘Ù„Ù‡Ø§ ÙÙŠ Supabase Dashboard â†’ Authentication â†’ Settings â†’ Email Auth

**Ø¨Ø¹Ø¯ Ø§Ù„ØªÙØ¹ÙŠÙ„:** Ø¬Ø±Ø¨ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ØŒ ÙŠØ¬Ø¨ Ø£Ù† ØªØµÙ„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚.

---

## â“ Ø¥Ø°Ø§ Ø§Ø³ØªÙ…Ø±Øª Ø§Ù„Ù…Ø´ÙƒÙ„Ø©

1. **ØªØ­Ù‚Ù‚ Ù…Ù† Logs:**
   - Authentication â†’ Logs
   - Database â†’ Logs
   - Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£Ø®Ø·Ø§Ø¡ Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ù€ email

2. **ØªØ­Ù‚Ù‚ Ù…Ù† SMTP:**
   - Ø¬Ø±Ø¨ SMTP provider Ø¢Ø®Ø±
   - ØªØ­Ù‚Ù‚ Ù…Ù† Credentials

3. **ØªØ­Ù‚Ù‚ Ù…Ù† Email:**
   - Ø¬Ø±Ø¨ email Ù…Ø®ØªÙ„Ù
   - ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Email ØµØ­ÙŠØ­

4. **Ø§ØªØµÙ„ Ø¨Ù€ Supabase Support:**
   - Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ù…Ø³ØªÙ…Ø±Ø©
   - Ù‚Ø¯ ØªÙƒÙˆÙ† Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Supabase infrastructure

